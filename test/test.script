// Some SQL statements automatically fixed by osperf... 
Function Assoc GetExporterInfo( Object prgCtx = .GetAdminCtx().prgCtx )

	String sql
	Integer maxJobIDs = 10
	
	// Find some recent export jobs that have a job ID.
	
	if $SyntergyCore.SQLUtils.IsOracle() 
		sql = "select job_id from ( " + \
					"select distinct job_id from ( " + \
						"select distinct JOB_ID job_id, EXPORT_ID from REPL_EXPORT_HISTORY where JOB_ID in ( select JOB_ID from SYN_JOB ) order by EXPORT_ID desc " + \
					") order by job_id desc " + \
			 	") where rownum <= %1"
	else
		// sql = "select distinct top %1 job_id from (select top 500 job_id, export_id from ( select h.job_id job_id, h.export_id export_id from repl_export_history h, syn_job j where h.job_id=j.job_id ) a order by export_id desc ) x order by x.job_id desc"
	end
	
	// set the max number to retrieve	
	sql = Str.Format( sql, maxJobIDs )
	
	RecArray jobResults = .ExecSQL( prgCtx, sql )	
End
